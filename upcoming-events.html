<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upcoming Events</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Poppins:wght@100;300;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

<section class="subheader">
    <nav>
        <a href="index.html"><img src="images/logo.png"></a>
        <div class="nav-links" id="navLinks">
            <i class="fa fa-times" onclick="hideMenu()"></i>
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="stories.html">SUCCESS STORIES</a></li>
                <li class="dropdown">
                    <a href="#">EVENTS <i class="fa fa-caret-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="upcoming-events.html">Upcoming Events</a></li>
                        <li><a href="create-events.html">Create Events</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#">OPPORTUNITIES <i class="fa fa-caret-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="opportunities-board.html">Opportunities Board</a></li>
                        <li><a href="post-opportunities.html">Post Opportunities</a></li>
                    </ul>
                </li>
                <li><a href="fundraising.html">FUNDRAISING</a></li>
                            <!-- My Profile and Logout -->
            <li><a href="my-profile.html">MY PROFILE</a></li>
            <li><a href="logout.html" class="login">LOGOUT</a></li>
            </ul>
        </div>
        <i class="fa fa-bars" onclick="showMenu()"></i>
    </nav>
    <h1>Upcoming Events</h1>
    <p>See all events and manage your created events</p>
</section>

<section class="events-container" id="eventsContainer">
    <!-- Event cards will be dynamically added here -->
</section>

<!-- Delete Confirmation Popup -->
<div class="popup" id="deletePopup">
  <div class="popup-content">
    <p>Are you sure you want to delete this event?</p>
    <button class="confirm" id="confirmDelete">Yes</button>
    <button class="cancel" id="cancelDelete">No</button>
  </div>
</div>

<!-- -------------------footer--------------- -->
<!-- <hr>
<section class="footer">
	<h4>ABOUT US</h4>
	<p>Discover our Alumni Council's dedication to fostering alumni connections. Together, we uphold <br>the APS legacy with pride and unity.</p>
</section>

<section class="contact-footer">
		<div class="abt-col">
			<div>
				<i class="fa fa-home"></i>
				<span>
					<h5>Shivaji Rd, Army Area, Agra Cantt</h5>
					<p>Agra, Uttar Pradesh 282001</p>
				</span>
			</div>
			<div>
				<i class="fa fa-phone"></i>
				<span>
					<h5>0562-2226009</h5>
					<p>Monday - Saturday, 07:15 AM - 03:00 PM</p>
				</span>
			</div>
			<div>
				<i class="fa fa-envelope"></i>
				<span>
					<h5>armyagra@gmail.com</h5>
					<p>Email us your query</p>
				</span>
			</div>
		</div>
</section> -->

<div id="footer-placeholder"></div>



<!-- --------javascript for toggle menu--------- -->
<!-- <script type="text/javascript">
	var navLinks=document.getElementById("navLinks");
	function showMenu() {
		navLinks.style.right="0";
	}
	function hideMenu() {
		navLinks.style.right="-200px";
	}
</script> -->

<script>
  fetch('footer.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('footer-placeholder').innerHTML = data;
    });
</script>
<script>
  var navLinks=document.getElementById("navLinks");
  function showMenu() { navLinks.style.right="0"; }
  function hideMenu() { navLinks.style.right="-200px"; }

  // ======= Sample fixed events =======
  const fixedEvents = [
    {topic: "Annual Alumni Meet", date: "2025-10-15", time: "10:00", mode: "Offline"},
    {topic: "Webinar on Career Growth", date: "2025-11-05", time: "16:00", mode: "Online"},
    {topic: "Fundraising Gala", date: "2025-12-01", time: "18:00", mode: "Offline"}
  ];

  // Load user-created events from localStorage
  let myEvents = JSON.parse(localStorage.getItem('myEvents') || '[]');
  let eventToDeleteIndex = null;

  const eventsContainer = document.getElementById('eventsContainer');

  function renderEvents() {
    eventsContainer.innerHTML = '';
    
    // Display fixed events
    fixedEvents.forEach(e => {
      const card = document.createElement('div');
      card.classList.add('event-card');
      card.innerHTML = `
        <h3>${e.topic}</h3>
        <p><strong>Date:</strong> ${e.date}</p>
        <p><strong>Time:</strong> ${e.time}</p>
        <p><strong>Mode:</strong> ${e.mode}</p>
      `;
      eventsContainer.appendChild(card);
    });

    // Display user-created events
    myEvents.forEach((e, index) => {
      const card = document.createElement('div');
      card.classList.add('event-card');
      card.innerHTML = `
        <h3>${e.topic}</h3>
        <p><strong>Date:</strong> ${e.date}</p>
        <p><strong>Time:</strong> ${e.time}</p>
        <p><strong>Mode:</strong> ${e.mode}</p>
        <span class="badge">Created by Me</span>
        <button class="delete-btn" title="Delete Event"><i class="fa fa-trash"></i></button>
      `;
      // Add delete functionality
      card.querySelector('.delete-btn').addEventListener('click', () => {
        eventToDeleteIndex = index;
        document.getElementById('deletePopup').style.display = 'flex';
      });
      eventsContainer.appendChild(card);
    });
  }

  // Delete popup buttons
  document.getElementById('confirmDelete').addEventListener('click', () => {
    if(eventToDeleteIndex !== null){
      myEvents.splice(eventToDeleteIndex, 1);
      localStorage.setItem('myEvents', JSON.stringify(myEvents));
      renderEvents();
      eventToDeleteIndex = null;
      document.getElementById('deletePopup').style.display = 'none';
    }
  });

  document.getElementById('cancelDelete').addEventListener('click', () => {
    eventToDeleteIndex = null;
    document.getElementById('deletePopup').style.display = 'none';
  });

  // Initial render
  renderEvents();
</script>

</body>
</html>
